<!DOCTYPE html>
<html>

<body style="margin: 0;">
    <div id="map" style="width: 100px; height: 100px; display: inline-block; float: right;">
    </div>
    <script src="generatecallsign.js"></script>
    <script src="routes.js"></script>
    <script src="getRoute.js"></script>
    <script src="genicao.js"></script>
    <script src="genarpt.js"></script>
    <script src="genflight.js"></script>
    <script>
        function myMap() {
            var myStyles = [{
                featureType: "poi",
                elementType: "labels",
                stylers: [{
                    visibility: "off"
                }]
            }];

            var mapOptions = {
                center: new google.maps.LatLng(40.640, -73.773),
                zoom: 10,
                mapTypeId: google.maps.MapTypeId.HYBRID,
                styles: myStyles
            }

            var map = new google.maps.Map(document.getElementById("map"), mapOptions)
            map.addListener('click', function(event) {
                console.log("Write");
                displayCoordinates(event.latLng);
            });
        }

        function displayCoordinates(pnt) {
            var coordsLabel = document.getElementById("textLoc");
            var lat = pnt.lat();
            lat = lat.toFixed(10);
            var lng = pnt.lng();
            lng = lng.toFixed(10);
            coordsLabel.innerHTML += genFlight(lat, lng, document.getElementById("altitude").innerHTML) + "\n";
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCw_8PQoMzOB3T9F-s1oRS6UJjZ7wvpuQc&callback=myMap"></script>
    <div id="tdCursor" style="padding-right: 10px; padding-top: 0; display: inline-block; float: left;">
        <form>
		<textarea style="resize: none; padding:0; margin:0;" onclick="this.focus();this.select()" readonly="readonly" id="textLoc"></textarea><br>
		<p style="display:inline-block; padding-right:10px; padding-left: 20px;" id="altitude">Altitude:</p>
		<input placeholder="10000" style="display:inline-block;">
		<button type="reset" value="reset" style="margin-left:30px; margin-right:30px;">Reset</button>
		<button value="download" onclick="download();">Download as .acs</button>
		</form>
    </div>
    <script>
        console.log(screen.width);
        var wid = window.innerWidth;
        var hei = window.innerHeight;
        document.getElementById("map").style.width = wid / 3 * 2 + "px";
        document.getElementById("map").style.height = hei + "px";
        document.getElementById("textLoc").style.width = wid / 3 - 30 + "px";
        document.getElementById("textLoc").style.height = hei - 50 + "px";
    </script>
</body>

</html>
